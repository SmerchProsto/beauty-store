const buttonOpen=document.querySelector(".nav-toggle"),navItems=document.querySelector(".nav-items"),masters=document.querySelector(".master-items"),mastersLiArray=Array.from(document.querySelectorAll(".master-item")),commentsLiArray=Array.from(document.querySelectorAll(".comment-item")),worksLiArray=Array.from(document.querySelectorAll(".work-item")),gallery=document.querySelector(".gallery-items"),galleryLiArray=Array.from(document.querySelectorAll(".gallery-item"));document.querySelector(".nav-toggle").addEventListener("click",(function(e){this.classList.toggle("opened")}));const changeMenu=()=>{navItems.classList.toggle("collapsed")};buttonOpen.addEventListener("click",changeMenu);const findParentByTag=(e,t)=>{if(e.parentElement.tagName===t)return e.parentElement;for(;e.parentElement.tagName!==t;)e=e.parentElement;return e.parentElement.tagName===t&&e.parentElement},findParentByClass=(e,t)=>{if(e.parentElement.classList.contains(t))return e.parentElement;for(;!e.parentElement.classList.contains(t);)e=e.parentElement;return!!e.parentElement.classList.contains(t)&&e.parentElement};masters.addEventListener("click",(e=>{let t=e.target,r=findParentByTag(t,"LI");"object"==typeof r?(t=r,changeMasterCard(t)):r||console.log("not found")}));const changeMasterCard=e=>{let t,r,o,n=e.querySelector(".master-button-change"),a=document.querySelector(".master").querySelector(".arrow-buttons"),i=e.querySelector(".master-descriptions"),l=e.querySelector(".master-img-container"),c=document.getElementById(e.id+"-master"),s=document.getElementById(e.id+"-master-img"),m=null;if(null!==n.innerHTML&&"Закрыть"===n.innerHTML){e.classList.remove("master-item-scale"),l.querySelectorAll("img").forEach((e=>{e.classList.toggle("master-slider")})),n.innerHTML="Подробнее",r=c.innerHTML,o=s.innerHTML,c.innerHTML=i.innerHTML,s.innerHTML=l.innerHTML,i.innerHTML=r,l.innerHTML=o,t=null,m=null,mastersLiArray.map((t=>{t.id!==e.id&&t.classList.remove("hidden-elem")})),a.classList.toggle("hidden")}else if("Подробнее"===n.innerHTML){e.classList.add("master-item-scale"),r=i.innerHTML,o=l.innerHTML,i.innerHTML=c.innerHTML,l.innerHTML=s.innerHTML;const t=l.querySelectorAll("img"),m=4*t.length;document.documentElement.style.setProperty("--total-animation-time-master",`${m}s`),t.forEach(((e,t)=>{e.classList.toggle("master-slider");const r=m-4*(t+1);e.style.animationDelay=`-${r}s`})),c.innerHTML=r,s.innerHTML=o,n.innerHTML="Закрыть",mastersLiArray.map((t=>{t.id!==e.id&&t.classList.add("hidden-elem")})),a.classList.toggle("hidden")}},containers=document.querySelectorAll(".price-item-img");containers.forEach((e=>{const t=e.querySelectorAll(".price-img"),r=4*t.length;document.documentElement.style.setProperty("--total-animation-time",`${r}s`),t.forEach(((e,t)=>{const o=r-4*(t+1);e.style.animationDelay=`-${o}s`}))}));const aboutWrapperMediaImg=document.querySelector(".wrapper-media-img"),photosAbout=aboutWrapperMediaImg.querySelectorAll(".about-us-media"),totalAnimationTime=4*photosAbout.length;document.documentElement.style.setProperty("--total-animation-time-about",`${totalAnimationTime}s`),photosAbout.forEach(((e,t)=>{e.classList.toggle("about-slider");const r=totalAnimationTime-4*(t+1);e.style.animationDelay=`-${r}s`}));const masterSlider=new Slider(mastersLiArray,1);masterSlider.arrowLeft=document.querySelector(".master .arrow-button-left"),masterSlider.arrowRight=document.querySelector(".master .arrow-button-right"),masterSlider.arrowRight.addEventListener("click",(()=>{masterSlider.moveRight(1)})),masterSlider.arrowLeft.addEventListener("click",(()=>{masterSlider.moveLeft(1)})),masterSlider.makeHideOtherSlides(0,0);const commentSlider=new Slider(commentsLiArray,1);if(commentSlider.arrowLeft=document.querySelector(".comment .arrow-button-left"),commentSlider.arrowRight=document.querySelector(".comment .arrow-button-right"),commentSlider.arrowRight.addEventListener("click",(()=>{commentSlider.moveRight(1)})),commentSlider.arrowLeft.addEventListener("click",(()=>{commentSlider.moveLeft(1)})),commentSlider.makeHideOtherSlides(0,0),createOrDeleteArrows=e=>{const t="arrow-buttons";if(e.classList.contains("gallery-item-scale")){const r="img/arrow-right.png",o="img/arrow-left.png";let n=document.createElement("div");n.classList.add(t);let a=document.createElement("button");a.classList.add("arrow","arrow-button-left",e.classList[0]+"-arrow");let i=document.createElement("img");i.src=o,a.append(i);let l=document.createElement("button");l.classList.add("arrow","arrow-button-right",e.classList[0]+"-arrow");let c=i.cloneNode(!0);c.src=r,l.append(c),n.append(a),n.append(l),e.append(n)}else e.querySelector("."+t).remove()},createOrDeleteChrist=e=>{const t="wrapper-christ-close";if(e.classList.contains("gallery-item-scale")){const r="img/christ.svg";let o=document.createElement("div");o.classList.add(t);let n=document.createElement("button");n.classList.add("christ-button",e.classList[0]+"-christ");let a=document.createElement("img");a.src=r,n.append(a),o.append(n),e.append(o)}else e.querySelector("."+t).remove()},window.innerWidth>=768&&window.innerWidth<1024){document.querySelectorAll(".gallery-item-items").forEach((e=>{const t=e.querySelectorAll(".gallery-item-item");t.forEach(((e,r)=>{const o=12*(r+1)/t.length;e.style.animation=`round 12s ${o}s infinite`}))}));const e=new Slider(Array.from(document.querySelectorAll(".gallery-item")),1);e.makeHideOtherSlides(0,0),e.arrowRight=document.querySelector(".gallery .arrow-button-right"),e.arrowLeft=document.querySelector(".gallery .arrow-button-left"),e.arrowRight.addEventListener("click",(()=>{e.moveRight(1)})),e.arrowLeft.addEventListener("click",(()=>{e.moveLeft(1)}))}if(window.innerWidth>=768){const e=new Slider(worksLiArray,2);e.arrowLeft=document.querySelector(".work .arrow-button-left"),e.arrowRight=document.querySelector(".work .arrow-button-right"),e.arrowRight.addEventListener("click",(()=>{e.moveRight(2,!0)})),e.arrowLeft.addEventListener("click",(()=>{e.moveLeft(2,!0)})),e.makeHideOtherSlides(0,1);const t=new Slider(commentsLiArray,2);t.arrowLeft=document.querySelector(".comment .arrow-button-left"),t.arrowRight=document.querySelector(".comment .arrow-button-right"),t.arrowRight.addEventListener("click",(()=>{t.moveRight(2,!0)})),t.arrowLeft.addEventListener("click",(()=>{t.moveLeft(2,!0)})),t.makeHideOtherSlides(0,1)}else if(window.innerWidth<768){navItems.addEventListener("click",(e=>{"A"===e.target.tagName&&changeMenu()}));const e=new Slider(worksLiArray,1);elemsOfSlider=Array.from(document.querySelectorAll(".work .left-show-animation")),elemsOfSlider.map((e=>{e.classList.remove("left-show-animation")})),e.arrowLeft=document.querySelector(".work .arrow-button-left"),e.arrowRight=document.querySelector(".work .arrow-button-right"),e.arrowRight.addEventListener("click",(()=>{e.moveRight(1,!0)})),e.arrowLeft.addEventListener("click",(()=>{e.moveLeft(1,!0)})),e.makeHideOtherSlides(0,0);const t=new Slider(commentsLiArray,1);elemsOfSlider=Array.from(document.querySelectorAll(".comment .left-show-animation")),elemsOfSlider.map((e=>{e.classList.remove("left-show-animation")})),t.arrowLeft=document.querySelector(".comment .arrow-button-left"),t.arrowRight=document.querySelector(".comment .arrow-button-right"),t.arrowRight.addEventListener("click",(()=>{t.moveRight(1,!0)})),t.arrowLeft.addEventListener("click",(()=>{t.moveLeft(1,!0)})),t.makeHideOtherSlides(0,0),document.querySelectorAll(".gallery-item-items").forEach((e=>{const t=e.querySelectorAll(".gallery-item-item");t.forEach(((e,r)=>{const o=12*(r+1)/t.length;e.style.animation=`round 12s ${o}s infinite`}))}));const r=new Slider(Array.from(document.querySelectorAll(".gallery-item")),1);r.makeHideOtherSlides(0,0),r.arrowRight=document.querySelector(".gallery .arrow-button-right"),r.arrowLeft=document.querySelector(".gallery .arrow-button-left"),r.arrowRight.addEventListener("click",(()=>{r.moveRight(1)})),r.arrowLeft.addEventListener("click",(()=>{r.moveLeft(1)}))}if(window.innerWidth>=1024){const e=Array.from(document.querySelectorAll(".price-item"));new Slider(e,1).setIds();let t=0,r=0;e.map(((e,o)=>{r%2!=0?o>=2&&o%2==0?e.style.order=(o+1).toString():o>=2&&o%2!=0&&(e.style.order=(o-1).toString()):e.style.order=o.toString(),t++,t%2==0&&r++}));new Slider(galleryLiArray,8).makeHideOtherSlides(0,7),gallery.addEventListener("click",(e=>{let t=e.target,r=findParentByClass(t,"gallery-item");if("object"==typeof r){t=r,t.classList.toggle("gallery-item-scale"),document.querySelector("html").classList.toggle("overlay"),createOrDeleteArrows(t),createOrDeleteChrist(t);let e=Array.from(t.querySelectorAll(".gallery-item-item")),o=new Slider(e,1);o.makeHideOtherSlides(0,0),o.arrowLeft=t.querySelector(".arrow-button-left"),o.arrowRight=t.querySelector(".arrow-button-right"),o.christ=t.querySelector(".christ"),t.classList.contains("gallery-item-scale")?(o.arrowLeft.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),o.moveLeft(1)})),o.arrowRight.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),o.moveRight(1)}))):(e=null,o=null)}else r||console.log("not found")}));const o=new Slider(mastersLiArray,4);o.arrowLeft=document.querySelector(".master .arrow-button-left"),o.arrowRight=document.querySelector(".master .arrow-button-right"),o.arrowRight.addEventListener("click",(()=>{o.moveRight(4)})),o.arrowLeft.addEventListener("click",(()=>{o.moveLeft(4)})),o.makeHideOtherSlides(0,3);const n=new Slider(commentsLiArray,2);n.arrowLeft=document.querySelector(".comment .arrow-button-left"),n.arrowRight=document.querySelector(".comment .arrow-button-right"),n.arrowRight.addEventListener("click",(()=>{n.moveRight(2)})),n.arrowLeft.addEventListener("click",(()=>{n.moveLeft(2)})),n.makeHideOtherSlides(0,1)}